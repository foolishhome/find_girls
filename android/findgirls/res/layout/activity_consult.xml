<?xml version="1.0" encoding="utf-8"?>

<com.yy.a.widget.ImeAwareRelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@id/ime_activity_root"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_above="@+id/inputContainer">
        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_gravity="top">

            <RelativeLayout
                android:id="@+id/consult_doctor_info"
                android:layout_width="match_parent"
                android:layout_height="49.5dp"
                android:orientation="horizontal"
                android:background="@color/white"
                android:visibility="gone">
                <ImageView
                    android:id="@+id/consult_doctor_portrait"
                    android:layout_width="32.5dp"
                    android:layout_height="32.5dp"
                    android:layout_marginLeft="12dp"
                    android:layout_centerVertical="true"
                    android:src="@drawable/def_portrait_online"/>
                <TextView
                    android:id="@+id/consult_default_name"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_toRightOf="@+id/consult_doctor_portrait"
                    android:layout_marginLeft="10dp"
                    android:layout_marginTop="5dp"
                    android:maxLength="10"
                    android:text="@string/consult_default_name"
                    android:fontFamily="Microsoft Yahei"
                    android:textSize="13.5dp" />
                <TextView
                    android:id="@+id/consult_hospital"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentBottom="true"
                    android:layout_marginLeft="10dp"
                    android:layout_marginBottom="5dp"
                    android:layout_toRightOf="@+id/consult_doctor_portrait"
                    android:text="@string/consult_hospital"
                    android:fontFamily="Microsoft Yahei"
                    android:textSize="12dp" />
                <Button
                    android:id="@+id/consult_focus"
                    android:background="@drawable/selector_follow_button"
                    android:layout_width="177px"
                    android:layout_height="57px"
                    android:layout_marginRight="10dp"
                    android:layout_alignParentRight="true"
                    android:layout_centerVertical="true"/>
            </RelativeLayout>

            <LinearLayout
                android:id="@+id/consult_info"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:visibility="gone">

                <RelativeLayout
                    android:id="@+id/consult_content"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content">
                    <fragment
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:name="com.yy.medical.widget.ConsultContentFragment"
                        tools:layout="@layout/fragment_consult_content" />
                </RelativeLayout>

            </LinearLayout>
        </RelativeLayout>

        <RelativeLayout
            android:layout_width="wrap_content"
            android:layout_height="match_parent">

            <com.yy.a.widget.pulltorefresh.PullToRefreshListView
                android:id="@+id/consult_dialog"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_above="@+id/middlePanel"/>

            <LinearLayout
                android:id="@+id/middlePanel"
                android:orientation="horizontal"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginLeft="16dp"
                android:layout_marginRight="16dp"
                android:layout_alignParentBottom="true">
                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content">
                        <RelativeLayout
                            android:id="@+id/consultStatusPanel"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="16dp"
                            android:background="@drawable/item_finish_background">
                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:layout_toLeftOf="@+id/complain"
                                android:layout_centerVertical="true">
                                <TextView
                                    android:id="@+id/consultStatusTips"
                                    android:gravity="center_horizontal"
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:textColor="#646464"
                                    android:textSize="16sp"
                                    android:fontFamily="Microsoft Yahei"
                                    android:text="@string/consult_status_accepted_tips"/>
                            </LinearLayout>
                            <ImageView
                                android:id="@+id/complain"
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_marginRight="10dp"
                                android:layout_alignParentRight="true"
                                android:src="@drawable/complain"
                                android:layout_centerVertical="true" />
                        </RelativeLayout>
                    </LinearLayout>
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content">
                        <RelativeLayout
                            android:id="@+id/acceptReply"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:background="@drawable/item_finish_background">
                            <LinearLayout
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:layout_centerVertical="true"
                                android:layout_centerHorizontal="true">
                                <ImageView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:src="@drawable/gender_select"
                                    android:layout_gravity="center_vertical"
                                    android:layout_marginRight="5dp"/>
                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:textSize="16sp"
                                    android:fontFamily="Microsoft Yahei"
                                    android:textColor="#19E0B0"
                                    android:text="@string/item_finish_tips"
                                    android:layout_gravity="center_vertical"/>
                            </LinearLayout>
                        </RelativeLayout>
                    </LinearLayout>
                </RelativeLayout>
            </LinearLayout>

        </RelativeLayout>

    </LinearLayout>


    <RelativeLayout
        android:id="@+id/inputContainer"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true">
        <fragment
            android:id="@+id/consult_input"
            android:tag="ConsultChatInput"
            android:name="com.yy.medical.widget.input.ConsultChatInputFragment"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            />
    </RelativeLayout>

    <View
        android:id="@id/view_dismiss_input"
        android:layout_above="@+id/inputContainer"
        android:visibility="gone"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>

</com.yy.a.widget.ImeAwareRelativeLayout>